


ARM Macro Assembler    Page 1 


    1 00000000         ;/******************************************************
                       Copyright (c)*******************************************
                       *******
    2 00000000         ;**                                              µ¨ÇÓÊÇ×
                       èÖ¹Ò»ÇÐ¿ÉÄÜµÄ¸ù±¾ÔµÓÉ
    3 00000000         ;**
    4 00000000         ;**                                             E-Mail: 
                       ChinaFengliang@163.com
    5 00000000         ;**
    6 00000000         ;**---------File Information----------------------------
                       --------------------------------------------------------
                       -------
    7 00000000         ;** File name:            boot.s
    8 00000000         ;** Last version:         V1.00
    9 00000000         ;** Descriptions:         ÏµÍ³Òýµ¼ÎÄ¼þ.
   10 00000000         ;** Hardware platform:   lpc1768(ÄÚºË: Cortex-M3)
   11 00000000         ;** SoftWare platform:   ChinaOS 
   12 00000000         ;**
   13 00000000         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
   14 00000000         ;** Created by:           Fengliang
   15 00000000         ;** Created date:         2010Äê9ÔÂ3ÈÕ  14:6:17
   16 00000000         ;** Version:              V1.00
   17 00000000         ;** Descriptions:         The original version
   18 00000000         ;**
   19 00000000         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
   20 00000000         ;** Modified by:
   21 00000000         ;** Modified date:
   22 00000000         ;** Version:
   23 00000000         ;** Descriptions:
   24 00000000         ;**
   25 00000000         ;*******************************************************
                       ********************************************************
                       ******/
   26 00000000         
   27 00000000         ;/******************************************************
                       ********************************************************
                       *******
   28 00000000         ;                                                    Í·Î
                       Ä¼þÇø
   29 00000000         ;*******************************************************
                       ********************************************************
                       ******/
   30 00000000         
   31 00000000         
   32 00000000         ;/******************************************************
                       ********************************************************
                       *******
   33 00000000         ;                                                    ºê¶
                       ¨ÒåÇø
   34 00000000         ;*******************************************************
                       ********************************************************
                       ******/
   35 00000000         ;/* ÅäÖÃ¶ÑÕ»µÄ¿Õ¼ä´óÐ¡ ---------------------------------
                       --------------------------------------------------------
                       -----*/



ARM Macro Assembler    Page 2 


   36 00000000 00000800 
                       SYSTEM_STACK_SIZE
                               EQU              2048        ;/* ÏµÍ³Õ»¿Õ¼äsize 
                                                                  */
   37 00000000         
   38 00000000         
   39 00000000         ;/******************************************************
                       ********************************************************
                       *******
   40 00000000         ;                                                   ½Ó¿Ú
                       ÉêÃ÷Çø
   41 00000000         ;*******************************************************
                       ********************************************************
                       ******/
   42 00000000         ;/* µ¼³ö½Ó¿Ú -------------------------------------------
                       --------------------------------------------------------
                       -----*/
   43 00000000         
   44 00000000         ;/* µ¼Èë½Ó¿Ú -------------------------------------------
                       --------------------------------------------------------
                       -----*/
   45 00000000                 IMPORT           startup
   46 00000000                 IMPORT           cpu_init
   47 00000000                 IMPORT           syscall_exception
   48 00000000                 IMPORT           pendsv_exception
   49 00000000                 IMPORT           systimer_exception
   50 00000000         ;IMPORT    usbDevException
   51 00000000                 IMPORT           can_exception
   52 00000000         ;IMPORT          ethernet_exception
   53 00000000         
   54 00000000                 IMPORT           |Load$$RW$$Base| ;/* ·ÇÄ¬ÈÏ³õÊ¼
                                                            »¯È«¾Ö±äÁ¿ÖÖ×ÓÇøÆðÊ
                                                            ¼µØÖ· */
   55 00000000                 IMPORT           |Image$$RW$$Base| ;/* ·ÇÄ¬ÈÏ³õÊ
                                                            ¼»¯È«¾Ö±äÁ¿Ä¿±êÇøÆð
                                                            Ê¼µØÖ·  */
   56 00000000                 IMPORT           |Image$$RW$$ZI$$Base| ;/* Ä¬ÈÏ³
                                                            õÊ¼»¯È«¾Ö±äÁ¿Ä¿±êÇø
                                                            ÆðÊ¼µØÖ· */
   57 00000000                 IMPORT           |Image$$RW$$ZI$$Limit| ;/* Ä¬ÈÏ
                                                            ³õÊ¼»¯È«¾Ö±äÁ¿Ä¿±êÇ
                                                            øÏÞÖÆµØÖ· */
   58 00000000         
   59 00000000         ;/******************************************************
                       ********************************************************
                       *******
   60 00000000         ;                                                   ´úÂë
                       ÊµÏÖÇø
   61 00000000         ;*******************************************************
                       ********************************************************
                       ******/
   62 00000000                 AREA             boot, CODE, READONLY
   63 00000000                 ENTRY                        ;/* entry point    
                                                                */
   64 00000000         ;/******************************************************
                       ********************************************************
                       *******
   65 00000000         ;** Function name:           exception_entry
   66 00000000         ;** Descriptions:            ÖÐ¶Ï/Òì³£ÏòÁ¿Èë¿Ú



ARM Macro Assembler    Page 3 


   67 00000000         ;** Input parameters:
   68 00000000         ;** Output parameters:
   69 00000000         ;** Returned value:
   70 00000000         ;**
   71 00000000         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
   72 00000000         ;** Created by:
   73 00000000         ;** Created Date:            2010-9-3  14:46:37
   74 00000000         ;** Test recorde:
   75 00000000         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
   76 00000000         ;** Modified by:
   77 00000000         ;** Modified date:
   78 00000000         ;** Test recorde:
   79 00000000         ;*******************************************************
                       ********************************************************
                       ******/
   80 00000000         exception_entry
   81 00000000 000007E0        DCD              system_stack_base + SYSTEM_STAC
K_SIZE - 32 
                                                            ;/* 0) ÏµÍ³Õ»µ×(MSP
                                                            ³õÊ¼Öµ)          */
                                                            
   82 00000004 00000000        DCD              reset_exception ;/* 1) ¸´Î»Òì³£
                                                                    */
   83 00000008 00000008        DCD              .           ;/* 2) ³¬¼¶Òì³£(NMI
                                                            Òý½Å)     */
   84 0000000C 00000000        DCD              hard_faults ;/* 3) Ó²Òì³£(fault
                                                            )      */
   85 00000010         
   86 00000010 00000000        DCD              memory_manage_faults ;/* 4) ´æ´
                                                            ¢Æ÷¹ÜÀíÒì³£      */
                                                            
   87 00000014 00000000        DCD              bus_faults  ;/* 5) ×ÜÏßÒì³£    
                                                                */
   88 00000018 00000000        DCD              usage_faults ;/* 6) ÓÃ·¨Òì³£   
                                                                    */
   89 0000001C 00000000        DCD              default_service ;/* 7) (±£Áô)  
                                                                               
                                                                   */
   90 00000020         
   91 00000020 00000000        DCD              default_service ;/* 8) (±£Áô)  
                                                                               
                                                                   */
   92 00000024 00000000        DCD              default_service ;/* 9) (±£Áô)  
                                                                               
                                                                   */
   93 00000028 00000000        DCD              default_service ;/* A) (±£Áô)  
                                                                               
                                                                   */
   94 0000002C 00000000        DCD              syscall_exception ;/* B) ÏµÍ³µ÷
                                                            ÓÃÖÐ¶Ï             
                                                            */
   95 00000030         
   96 00000030 00000030        DCD              .           ;/* C) µ÷ÊÔ¼àÊÓÆ÷  
                                                                 */
   97 00000034 00000000        DCD              default_service ;/* D) (±£Áô)  



ARM Macro Assembler    Page 4 


                                                                               
                                                                   */
   98 00000038 00000000        DCD              pendsv_exception ;/* E) PendSVÖ
                                                            Ð¶Ï                
                                                                    */
   99 0000003C 00000000        DCD              systimer_exception ;/* F) SysTi
                                                            ckÖÐ¶Ï             
                                                                      */
  100 00000040         
  101 00000040 00000040        DCD              .           ;/* 16) ¿´ÃÅ¹·ÖÐ¶Ï 
                                                                  */
  102 00000044 00000000        DCD              systimer_exception ;/* 17) ¶¨Ê±
                                                            Æ÷0ÖÐ¶Ï       */
  103 00000048 00000048        DCD              .           ;/* 18) ¶¨Ê±Æ÷1ÖÐ¶Ï
                                                                   */
  104 0000004C 0000004C        DCD              .           ;/* 19) ¶¨Ê±Æ÷2ÖÐ¶Ï
                                                                   */
  105 00000050         
  106 00000050 00000050        DCD              .           ;/* 20) ¶¨Ê±Æ÷3ÖÐ¶Ï
                                                                   */
  107 00000054 00000054        DCD              .           ;/* 21) ´®¿Ú0ÖÐ¶Ï  
                                                                 */
  108 00000058 00000058        DCD              .           ;/* 22) ´®¿Ú1ÖÐ¶Ï  
                                                                 */
  109 0000005C 0000005C        DCD              .           ;/* 23) ´®¿Ú2ÖÐ¶Ï  
                                                                 */
  110 00000060         
  111 00000060 00000060        DCD              .           ;/* 24) ´®¿Ú3ÖÐ¶Ï  
                                                                 */
  112 00000064 00000064        DCD              .           ;/* 25) PWM1ÖÐ¶Ï   
                                                                */
  113 00000068 00000068        DCD              .           ;/* 26) I2C0ÖÐ¶Ï   
                                                                */
  114 0000006C 0000006C        DCD              .           ;/* 27) I2C1ÖÐ¶Ï   
                                                                */
  115 00000070         
  116 00000070 00000070        DCD              .           ;/* 28) I2C2ÖÐ¶Ï   
                                                                */
  117 00000074 00000074        DCD              .           ;/* 29) SPIÖÐ¶Ï    
                                                                    */
  118 00000078 00000078        DCD              .           ;/* 30) SSP0ÖÐ¶Ï   
                                                                */
  119 0000007C 0000007C        DCD              .           ;/* 31) SSP1ÖÐ¶Ï   
                                                                */
  120 00000080         
  121 00000080 00000080        DCD              .           ;/* 32) PLL0ÖÐ¶Ï   
                                                                */
  122 00000084 00000084        DCD              .           ;/* 33) RTCÖÐ¶Ï    
                                                                   */
  123 00000088 00000088        DCD              .           ;/* 34) Íâ²¿0ÖÐ¶Ï  
                                                                 */
  124 0000008C 0000008C        DCD              .           ;/* 35) Íâ²¿1ÖÐ¶Ï  
                                                                 */
  125 00000090         
  126 00000090 00000090        DCD              .           ;/* 36) Íâ²¿2ÖÐ¶Ï  
                                                                 */
  127 00000094 00000094        DCD              .           ;/* 37) Íâ²¿3ÖÐ¶Ï  
                                                                 */
  128 00000098 00000098        DCD              .           ;/* 38) ADCÖÐ¶Ï    



ARM Macro Assembler    Page 5 


                                                                   */
  129 0000009C 0000009C        DCD              .           ;/* 39) µôµç¼ì²â(BO
                                                            D)ÖÐ¶Ï     */
  130 000000A0         
  131 000000A0 000000A0        DCD              .           ;usbDevException   
                                                                     ;/* 40) US
                                                            BÖÐ¶Ï           */
  132 000000A4 00000000        DCD              can_exception ;/* 41) CANÖÐ¶Ï  
                                                                     */
  133 000000A8 000000A8        DCD              .           ;/* 42) DMAÖÐ¶Ï    
                                                                   */
  134 000000AC 000000AC        DCD              .           ;/* 43) I2SÖÐ¶Ï    
                                                                   */
  135 000000B0         
  136 000000B0 000000B0        DCD              .           ;ethernet_exception
                                                                       ;/* 44) 
                                                            ÒÔÌ«ÍøÖÐ¶Ï         
                                                             */
  137 000000B4 000000B4        DCD              .           ;/* 45) ÖØ¸´ÖÐ¶Ï¶¨Ê
                                                            ±Æ÷RITÖÐ¶Ï       */
                                                            
  138 000000B8 000000B8        DCD              .           ;/* 46) µç»úPWMÖÐ¶Ï
                                                                      */
  139 000000BC 000000BC        DCD              .           ;/* 47) Õý½»±àÂëÆ÷A
                                                            DCÖÐ¶Ï        */
  140 000000C0         
  141 000000C0 000000C0        DCD              .           ;/* 48) PLL1ÖÐ¶Ï   
                                                                      */
  142 000000C4 000000C4        DCD              .           ;/* 49) USB»î¶¯ÖÐ¶Ï
                                                                      */
  143 000000C8 000000C8        DCD              .           ;/* 50) CAN»î¶¯ÖÐ¶Ï
                                                                      */
  144 000000CC         
  145 000000CC         ;/******************************************************
                       ********************************************************
                       *******
  146 000000CC         ;** Function name:           void reset_exception(void)
  147 000000CC         ;** Descriptions:            ¸´Î»Òì³£·þÎñ
  148 000000CC         ;** Input parameters:        R0 : È«¾ÖÊý¾Ý³ØÔ´µØÖ·
  149 000000CC         ;**                          R1 : È«¾ÖÊý¾Ý³ØÄ¿±êµØÖ·
  150 000000CC         ;**                          R2 :
  151 000000CC         ;**                          R3 : Áã³õÊ¼»¯Ä¿±êÇøµØÖ·
  152 000000CC         ;** Output parameters:
  153 000000CC         ;** Returned value:
  154 000000CC         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  155 000000CC         ;** Created by:
  156 000000CC         ;** Created Date:            2010-9-3  14:40:21
  157 000000CC         ;** Test recorde:
  158 000000CC         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  159 000000CC         ;** Modified by:
  160 000000CC         ;** Modified date:
  161 000000CC         ;** Test recorde:
  162 000000CC         ;*******************************************************
                       ********************************************************
                       ******/



ARM Macro Assembler    Page 6 


  163 000000CC         reset_exception
  164 000000CC         ;/*
  165 000000CC         ; * 1) ³õÊ¼»¯È«¾Ö±äÁ¿
  166 000000CC         ; */
  167 000000CC 480E            LDR              r0, =|Load$$RW$$Base| ;/* »ñÈ¡È
                                                            «¾ÖÊý¾Ý³ØÔ´µØÖ·    
                                                            */
  168 000000CE 490F            LDR              r1, =|Image$$RW$$Base| ;/* »ñÈ¡
                                                            È«¾ÖÊý¾Ý³ØÄ¿±êµØÖ· 
                                                               */
  169 000000D0 4B0F            LDR              r3, =|Image$$RW$$ZI$$Base| ;/* 
                                                            »ñÈ¡Áã³õÊ¼»¯Ä¿±êÇøµ
                                                            ØÖ·    */
  170 000000D2         
  171 000000D2 4288            CMP              r0, r1      ;/* Check that they
                                                             are different  */
  172 000000D4 D006            BEQ              %F1
  173 000000D6         0                                    ;/* 1.1) ¸´ÖÆÔ­Ê¼Êý
                                                            ¾Ý */
  174 000000D6 4299            CMP              r1, r3
  175 000000D8 BF3C F850 
              2B04             LDRCC            r2, [r0], #4
  176 000000DE F841 2B04       STRCC            r2, [r1], #4
  177 000000E2 D3F8            BCC              %B0
  178 000000E4         1                                    ;/* 1.2) ÉèÖÃÄ¬ÈÏÊý
                                                            ¾Ý */
  179 000000E4 490B            LDR              r1, =|Image$$RW$$ZI$$Limit| ;/*
                                                             »ñÈ¡Áã³õÊ¼»¯Ä¿±êÇø
                                                            ½áÊøµØÖ·   */
  180 000000E6 F04F 0200       MOV              r2, #0      ;/* Ä¬ÈÏÊý¾Ý: 0    
                                                               */
  181 000000EA         2
  182 000000EA 428B            CMP              r3, r1      ;/* Zero init      
                                                             */
  183 000000EC BF38 F843 
              2B04             STRCC            r2, [r3], #4
  184 000000F2 D3FA            BCC              %B2
  185 000000F4         
  186 000000F4         ;/*
  187 000000F4         ; * 2) ³õÊ¼»¯cpu
  188 000000F4         ; */
  189 000000F4 F7FF FFFE       BL               cpu_init
  190 000000F8         
  191 000000F8         ;/*
  192 000000F8         ; * 3) ²Ù×÷ÏµÍ³³õÊ¼»¯
  193 000000F8         ; */
  194 000000F8 F7FF BFFE       B                startup
  195 000000FC         
  196 000000FC         
  197 000000FC         ;/******************************************************
                       ********************************************************
                       *******
  198 000000FC         ;** Function name:           hard_faults
  199 000000FC         ;** Descriptions:            Ó²faults
  200 000000FC         ;** Input parameters:
  201 000000FC         ;** Output parameters:
  202 000000FC         ;** Returned value:
  203 000000FC         ;**-----------------------------------------------------
                       --------------------------------------------------------



ARM Macro Assembler    Page 7 


                       -------
  204 000000FC         ;** Created by:
  205 000000FC         ;** Created Date:            2010-9-3  14:40:21
  206 000000FC         ;** Test recorde:
  207 000000FC         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  208 000000FC         ;** Modified by:
  209 000000FC         ;** Modified date:
  210 000000FC         ;** Test recorde:
  211 000000FC         ;*******************************************************
                       ********************************************************
                       ******/
  212 000000FC         hard_faults
  213 000000FC         ;MOV    r0,   r0
  214 000000FC         ;BX      lr                                             
                                    ;/* ·µ»Ø                                */
  215 000000FC E7FE            B                .           ;/* Òòµ÷ÊÔÔÝÊ±½ûÄÜ 
                                                                               
                                                              */
  216 000000FE         
  217 000000FE         ;/******************************************************
                       ********************************************************
                       *******
  218 000000FE         ;** Function name:           memory_manage_faults
  219 000000FE         ;** Descriptions:            ´æ´¢Æ÷¹ÜÀífaults,³£¼ûÓÕÒòÈç
                       ÏÂ:
  220 000000FE         ;**                            a) ·ÃÎÊÁËËùÓÐ MPU regions
                        ¸²¸Ç·¶Î§Ö®ÍâµÄµØÖ·;
  221 000000FE         ;**                            b) ·ÃÎÊÁËÃ»ÓÐ´æ´¢Æ÷ÓëÖ®¶Ô
                       Ó¦µÄ¿ÕµØÖ·;
  222 000000FE         ;**                            c) ÍùÖ»¶ÁregionÐ´Êý¾Ý;
  223 000000FE         ;**                            d) ÓÃ»§¼¶ÏÂ·ÃÎÊÁËÖ»ÔÊÐíÔÚ
                       ÌØÈ¨¼¶ÏÂ·ÃÎÊµÄµØÖ·.
  224 000000FE         ;** Input parameters:
  225 000000FE         ;** Output parameters:
  226 000000FE         ;** Returned value:
  227 000000FE         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  228 000000FE         ;** Created by:
  229 000000FE         ;** Created Date:            2010-9-3  14:40:21
  230 000000FE         ;** Test recorde:
  231 000000FE         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  232 000000FE         ;** Modified by:
  233 000000FE         ;** Modified date:
  234 000000FE         ;** Test recorde:
  235 000000FE         ;*******************************************************
                       ********************************************************
                       ******/
  236 000000FE         memory_manage_faults
  237 000000FE E7FE            B                .
  238 00000100         
  239 00000100         ;/******************************************************
                       ********************************************************
                       *******
  240 00000100         ;** Function name:           bus_faults



ARM Macro Assembler    Page 8 


  241 00000100         ;** Descriptions:            ×ÜÏßfaults,³£¼ûÓÕÒòÈçÏÂ:
  242 00000100         ;**                            a) È¡Ö¸, Í¨³£±»³Æ×÷"Ô¤È¡Á
                       ÷²ú"(prefetch abort);
  243 00000100         ;**                            b) Êý¾Ý¶Á/Ð´, Í¨³£±»³Æ×÷"
                       Êý¾ÝÁ÷²ú"(data abort);
  244 00000100         ;** Input parameters:
  245 00000100         ;** Output parameters:
  246 00000100         ;** Returned value:
  247 00000100         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  248 00000100         ;** Created by:
  249 00000100         ;** Created Date:            2010-9-3  14:40:21
  250 00000100         ;** Test recorde:
  251 00000100         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  252 00000100         ;** Modified by:
  253 00000100         ;** Modified date:
  254 00000100         ;** Test recorde:
  255 00000100         ;*******************************************************
                       ********************************************************
                       ******/
  256 00000100         bus_faults
  257 00000100 E7FE            B                .
  258 00000102         
  259 00000102         ;/******************************************************
                       ********************************************************
                       *******
  260 00000102         ;** Function name:           usage_faults
  261 00000102         ;** Descriptions:            ÓÃ·¨faults,³£¼ûÓÕÒòÈçÏÂ:
  262 00000102         ;**                            a) Ö´ÐÐÁËÐ­´¦ÀíÆ÷Ö¸Áî(²»Ö
                       §³Ö);
  263 00000102         ;**                            b) Ö´ÐÐÁËÎ´¶¨ÒåÖ¸Áî;
  264 00000102         ;**                            c) ³¢ÊÔ½øÈëARM×´Ì¬;
  265 00000102         ;**                            d) ÎÞÐ§µÄÖÐ¶Ï·µ»Ø;
  266 00000102         ;**                            e) Ê¹ÓÃ¶àÖØ¼ÓÔØ/´æ´¢Ö¸ÁîÊ
                       ±,µØÖ·Ã»ÓÐ¶ÔÆë.
  267 00000102         ;** Input parameters:
  268 00000102         ;** Output parameters:
  269 00000102         ;** Returned value:
  270 00000102         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  271 00000102         ;** Created by:
  272 00000102         ;** Created Date:            2010-9-3  14:40:21
  273 00000102         ;** Test recorde:
  274 00000102         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  275 00000102         ;** Modified by:
  276 00000102         ;** Modified date:
  277 00000102         ;** Test recorde:
  278 00000102         ;*******************************************************
                       ********************************************************
                       ******/
  279 00000102         usage_faults
  280 00000102 E7FE            B                .
  281 00000104         



ARM Macro Assembler    Page 9 


  282 00000104         ;/******************************************************
                       ********************************************************
                       *******
  283 00000104         ;** Function name:           default_service
  284 00000104         ;** Descriptions:            Ä¬ÈÏÒì³£·þÎñ
  285 00000104         ;** Input parameters:
  286 00000104         ;** Output parameters:
  287 00000104         ;** Returned value:
  288 00000104         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  289 00000104         ;** Created by:
  290 00000104         ;** Created Date:            2010-9-3  14:40:21
  291 00000104         ;** Test recorde:
  292 00000104         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  293 00000104         ;** Modified by:
  294 00000104         ;** Modified date:
  295 00000104         ;** Test recorde:
  296 00000104         ;*******************************************************
                       ********************************************************
                       ******/
  297 00000104         default_service
  298 00000104 E7FE            B                .
  299 00000106 00 00           ALIGN
  300 00000108         
  301 00000108         ;/******************************************************
                       ********************************************************
                       *******
  302 00000108         ;** Function name:          ÏµÍ³Õ»¿Õ¼ä
  303 00000108         ;** Descriptions:
  304 00000108         ;** Input parameters:
  305 00000108         ;** Output parameters:
  306 00000108         ;** Returned value:
  307 00000108         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  308 00000108         ;** Created by:
  309 00000108         ;** Created Date:            2010-9-3  14:53:8
  310 00000108         ;** Test recorde:
  311 00000108         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  312 00000108         ;** Modified by:
  313 00000108         ;** Modified date:
  314 00000108         ;** Test recorde:
  315 00000108         ;*******************************************************
                       ********************************************************
                       ******/
  316 00000108         ;/* È«¾ÖÕ»¿Õ¼ä -----------------------------------------
                       -------------------*/
  317 00000108 00000000 
              00000000 
              00000000 
              00000000         AREA             System, DATA, NOINIT, ALIGN=2
  318 00000000         system_stack_base
                               SPACE            SYSTEM_STACK_SIZE
  319 00000800         



ARM Macro Assembler    Page 10 


  320 00000800         ;/******************************************************
                       ********************************************************
                       *******
  321 00000800         ;** Function name:          Õ»¿Õ¼ä
  322 00000800         ;** Descriptions:
  323 00000800         ;** Input parameters:
  324 00000800         ;** Output parameters:
  325 00000800         ;** Returned value:
  326 00000800         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  327 00000800         ;** Created by:
  328 00000800         ;** Created Date:            2010-9-3  14:53:8
  329 00000800         ;** Test recorde:
  330 00000800         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  331 00000800         ;** Modified by:
  332 00000800         ;** Modified date:
  333 00000800         ;** Test recorde:
  334 00000800         ;*******************************************************
                       ********************************************************
                       ******/
  335 00000800         ;/* È«¾ÖÕ»¿Õ¼ä -----------------------------------------
                       -------------------*/
  336 00000800                 AREA             Stack, DATA, NOINIT, ALIGN=2
  337 00000000         
  338 00000000         ;/******************************************************
                       ********************************************************
                       *******
  339 00000000         ;** Function name:          ¶Ñ¿Õ¼ä
  340 00000000         ;** Descriptions:
  341 00000000         ;** Input parameters:
  342 00000000         ;** Output parameters:
  343 00000000         ;** Returned value:
  344 00000000         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  345 00000000         ;** Created by:
  346 00000000         ;** Created Date:            2010-9-3  14:53:8
  347 00000000         ;** Test recorde:
  348 00000000         ;**-----------------------------------------------------
                       --------------------------------------------------------
                       -------
  349 00000000         ;** Modified by:
  350 00000000         ;** Modified date:
  351 00000000         ;** Test recorde:
  352 00000000         ;*******************************************************
                       ********************************************************
                       ******/
  353 00000000         ;/* È«¾Ö¶Ñ¿Õ¼ä -----------------------------------------
                       -------------------*/
  354 00000000                 AREA             Heap, DATA, NOINIT
  355 00000000         
  356 00000000         
  357 00000000                 END                          ;/* »ã±àÎÄ¼þ½áÊø   
                                                                */
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=.\output
\debug\boot.d -o.\output\debug\boot.o -IC:\Keil\ARM\INC -IC:\Keil\ARM\INC\NXP\L



ARM Macro Assembler    Page 11 


PC17xx --list=.\boot.lst ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

 000000D6

Symbol: 
   Definitions
      None
   Uses
      None
Warning:  undefinedComment:  unused
 000000E4

Symbol: 
   Definitions
      None
   Uses
      None
Warning:  undefinedComment:  unused
 000000EA

Symbol: 
   Definitions
      None
   Uses
      None
Warning:  undefinedComment:  unused
boot 00000000

Symbol: boot
   Definitions
      At line 62 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      None
Comment: boot unused
bus_faults 00000100

Symbol: bus_faults
   Definitions
      At line 256 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 87 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: bus_faults used once
default_service 00000104

Symbol: default_service
   Definitions
      At line 297 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 89 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
      At line 91 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
      At line 92 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
      At line 93 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
      At line 97 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s

exception_entry 00000000

Symbol: exception_entry
   Definitions
      At line 80 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      None



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Comment: exception_entry unused
hard_faults 000000FC

Symbol: hard_faults
   Definitions
      At line 212 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 84 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: hard_faults used once
memory_manage_faults 000000FE

Symbol: memory_manage_faults
   Definitions
      At line 236 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 86 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: memory_manage_faults used once
reset_exception 000000CC

Symbol: reset_exception
   Definitions
      At line 163 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 82 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: reset_exception used once
usage_faults 00000102

Symbol: usage_faults
   Definitions
      At line 279 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 88 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: usage_faults used once
11 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

System 00000000

Symbol: System
   Definitions
      At line 317 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      None
Comment: System unused
system_stack_base 00000000

Symbol: system_stack_base
   Definitions
      At line 318 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 81 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: system_stack_base used once
2 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Stack 00000000

Symbol: Stack
   Definitions
      At line 336 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      None
Comment: Stack unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

Heap 00000000

Symbol: Heap
   Definitions
      At line 354 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      None
Comment: Heap unused
1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

SYSTEM_STACK_SIZE 00000800

Symbol: SYSTEM_STACK_SIZE
   Definitions
      At line 36 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 81 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
      At line 318 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s

1 symbol



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

Image$$RW$$Base 00000000

Symbol: Image$$RW$$Base
   Definitions
      At line 55 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 168 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: Image$$RW$$Base used once
Image$$RW$$ZI$$Base 00000000

Symbol: Image$$RW$$ZI$$Base
   Definitions
      At line 56 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 169 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: Image$$RW$$ZI$$Base used once
Image$$RW$$ZI$$Limit 00000000

Symbol: Image$$RW$$ZI$$Limit
   Definitions
      At line 57 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 179 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: Image$$RW$$ZI$$Limit used once
Load$$RW$$Base 00000000

Symbol: Load$$RW$$Base
   Definitions
      At line 54 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 167 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: Load$$RW$$Base used once
can_exception 00000000

Symbol: can_exception
   Definitions
      At line 51 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 132 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: can_exception used once
cpu_init 00000000

Symbol: cpu_init
   Definitions
      At line 46 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 189 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: cpu_init used once
pendsv_exception 00000000

Symbol: pendsv_exception
   Definitions
      At line 48 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 98 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: pendsv_exception used once
startup 00000000

Symbol: startup



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
External symbols

   Definitions
      At line 45 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 194 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: startup used once
syscall_exception 00000000

Symbol: syscall_exception
   Definitions
      At line 47 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 94 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
Comment: syscall_exception used once
systimer_exception 00000000

Symbol: systimer_exception
   Definitions
      At line 49 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
   Uses
      At line 99 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s
      At line 102 in file ..\..\ChinaOS\architecture\arm\cortex-m3\boot.s

10 symbols
352 symbols in table
