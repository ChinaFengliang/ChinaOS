/******************************************************Copyright (c)**************************************************
**                                              胆怯是阻止一切可能的根本缘由
**
**                                             E-Mail: ChinaFengliang@163.com
**
**---------File Information-------------------------------------------------------------------------------------------
** File name:            export.h
** Last version:         V1.00
** Descriptions:         文件.
** Hardware platform:
** SoftWare platform:
**
**--------------------------------------------------------------------------------------------------------------------
** Created by:           Fengliang
** Created date:         2011年9月1日  17:47:6
** Version:              V1.00
** Descriptions:         The original version
**
**--------------------------------------------------------------------------------------------------------------------
** Modified by: 
** Modified date:
** Version:
** Descriptions:
**
*********************************************************************************************************************/
#ifndef __EXPORT_H_
#define __EXPORT_H_

#ifdef __cplusplus
extern "C" {
#endif                                                                      /* __cplusplus                          */

/*********************************************************************************************************************
                                                    头文件区
*********************************************************************************************************************/
#include    ""

/*********************************************************************************************************************
                                                    宏定义区
*********************************************************************************************************************/
/* 宏段名 ----------------------------------------------------------------------------------------------------------*/


/*********************************************************************************************************************
                                                    类型定义区
*********************************************************************************************************************/
/* 基本类型 --------------------------------------------------------------------------------------------------------*/
struct __console_service
{
    char *pName;                                                            /* 名称                                 */
    char *pDescription;                                                     /* 描述                                 */
    int (*pService)(void *);                                                /* 功能                                 */
};
typedef struct __console_service                    SERVICE;                /* 控制台服务类型                       */

extern int ConsoleService$$Base;
extern int SectionService$$Limit;

/*********************************************************************************************************************
** Function name:           EXPROT_SERVICE
** Descriptions:            导出函数到控制台服务列表
** Input parameters:        function    : 功能函数
**                          description : 描述说明
** Output parameters:       
** Returned value:          
**                          
**--------------------------------------------------------------------------------------------------------------------
** Created by:              Fengliang
** Created Date:            2011-6-17  11:32:22
** Test recorde:            
**--------------------------------------------------------------------------------------------------------------------
** Modified by:
** Modified date:
** Test recorde: 
*********************************************************************************************************************/
#define     EXPROT_TO_CONSOLE(function, description)    \
            const SERVICE __Service##function __attribute__((section("ConsoleService"))) = \
            {\
                (#function),  \
                (description),\
                (function)    \
            };

#ifdef __cplusplus
}
#endif                                                                      /* __cplusplus                          */

#endif                                                                      /* end of __EXPORT_H_                   */
/*********************************************************************************************************************
                                                    END OF FILE
*********************************************************************************************************************/

