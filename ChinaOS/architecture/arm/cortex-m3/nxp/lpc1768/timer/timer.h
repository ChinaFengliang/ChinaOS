/******************************************************Copyright (c)**************************************************
**                                              胆怯是阻止一切可能的根本缘由
**
**                                             E-Mail: ChinaFengliang@163.com
**
**---------File Information-------------------------------------------------------------------------------------------
** File name:            timer.h
** Last version:         V1.00
** Descriptions:         文件.
** Hardware platform:    
** SoftWare platform:    ChinaOS
**
**--------------------------------------------------------------------------------------------------------------------
** Created by:           Feng Liang
** Created date:         2012年2月9日  23:55:12
** Version:              V1.00
** Descriptions:         The original version
**
**--------------------------------------------------------------------------------------------------------------------
** Modified by: 
** Modified date:
** Version:
** Descriptions:
**
*********************************************************************************************************************/
#ifndef __TIMER_H_
#define __TIMER_H_

#ifdef __cplusplus
extern "C" {
#endif                                                                      /* __cplusplus                          */

/*********************************************************************************************************************
                                                    头文件区
*********************************************************************************************************************/
#include    <include/macro.h>
#include    <include/types.h>


/*********************************************************************************************************************
                                                    宏定义区
*********************************************************************************************************************/
/* 宏段名 ----------------------------------------------------------------------------------------------------------*/


/*********************************************************************************************************************
                                                    类型定义区
*********************************************************************************************************************/
/* 基本类型 --------------------------------------------------------------------------------------------------------*/
struct __timer_feature
{
    INT32U          BaseAddress;                                            /* 寄存器基址                           */
    INT32U          Prescale;                                               /* 预分频系数                           */

};
typedef struct __timer_feature                      TIMER_FEATURE;

/* 基本类型 --------------------------------------------------------------------------------------------------------*/
struct timer_t
{
    int          (*setup)(void);                                            /* 安装设备                             */
    int          (*cleanup)(void);                                          /* 卸装设备                             */
    INT32U       (*gettick)(void);                                          /* 获取时钟脉搏基数                     */

    int          (*add)(INT32U Timeout);
};

/*********************************************************************************************************************
** Function name:           timer_setup
** Descriptions:            
** Input parameters:        
** Output parameters:       
** Returned value:          ==OS_OK : 操作成功
**                          !=OS_OK : 操作失败(包含出错信息)
**--------------------------------------------------------------------------------------------------------------------
** Created by:              Feng Liang
** Created Date:            2012-2-10  18:36:11
** Test recorde:            
**--------------------------------------------------------------------------------------------------------------------
** Modified by:
** Modified date:
** Test recorde: 
*********************************************************************************************************************/
int timer_setup(const TIMER_FEATURE *This);

/*********************************************************************************************************************
** Function name:           timer_cleanup
** Descriptions:            
** Input parameters:        
** Output parameters:       
** Returned value:          ==OS_OK : 操作成功
**                          !=OS_OK : 操作失败(包含出错信息)
**--------------------------------------------------------------------------------------------------------------------
** Created by:              Feng Liang
** Created Date:            2012-2-10  18:43:57
** Test recorde:            
**--------------------------------------------------------------------------------------------------------------------
** Modified by:
** Modified date:
** Test recorde: 
*********************************************************************************************************************/
int timer_cleanup(const TIMER_FEATURE *This);

/*********************************************************************************************************************
** Function name:           timer_count
** Descriptions:            
** Input parameters:        
** Output parameters:       
** Returned value:          ==OS_OK : 操作成功
**                          !=OS_OK : 操作失败(包含出错信息)
**--------------------------------------------------------------------------------------------------------------------
** Created by:              Feng Liang
** Created Date:            2012-2-11  0:14:22
** Test recorde:            
**--------------------------------------------------------------------------------------------------------------------
** Modified by:
** Modified date:
** Test recorde: 
*********************************************************************************************************************/
INT32U timer_count(const TIMER_FEATURE *This);


#ifdef __cplusplus
}
#endif                                                                      /* __cplusplus                          */

#endif                                                                      /* end of __TIMER_H_                    */
/*********************************************************************************************************************
                                                    END OF FILE
*********************************************************************************************************************/

